


<!DOCTYPE html>
<html lang="ru" prefix="og: http://ogp.me/ns#">
<head itemscope itemtype="http://schema.org/WebSite">
    <meta charset="UTF-8">
    <meta name="language" content="ru" />
    <meta name="description" content="О новом пакете, позволяющем настраивать глобальные клавиши на UNIX-подобных системах под X Window System.">
    <meta name="keywords" content="статьи о питоне, материалы по python, статья Анонс keybind 0.1.1 — глобальные горячие клавиши, что такое Анонс keybind 0.1.1 — глобальные горячие клавиши">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Анонс keybind 0.1.1 — глобальные горячие клавиши" />
    
    <meta property="og:author" content="Игорь Стариков" />
    
    
    <meta property="og:description" content="О новом пакете, позволяющем настраивать глобальные клавиши на UNIX-подобных системах под X Window System." />
    
        <meta property="og:image" content="http://pythonz.net/static/img/realm_logos/pythonz_articles.png" />
    



    <meta property="og:site_name" content="Про Python" />

    
    <meta property="og:url" content="http://pythonz.net/articles/196/" />
    <link rel="canonical" href="http://pythonz.net/articles/196/" itemprop="url">
    

    <script src="//yandex.st/jquery/2.1.4/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        function yaAd(renderDetails){
            (function(w,d,n,s,t){w[n]=w[n]||[];w[n].push(function(){Ya.Context.AdvManager.render(renderDetails);});t=d.getElementsByTagName("script")[0];s=d.createElement("script");s.type="text/javascript";s.src="//an.yandex.ru/system/context.js";s.async=true;t.parentNode.insertBefore(s,t);})(this,this.document,"yandexContextAsyncCallbacks");}
        function getGet(a,o){var r=(new RegExp('[?&]'+a+'=([^&]*)')).exec(location.search);if(!r){return o} return decodeURIComponent(r[1]);}
    </script>

    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <link href="/static/css/pythonz.css" rel="stylesheet">
    <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <link href='//fonts.googleapis.com/css?family=Belleza|PT+Serif&amp;subset=cyrillic' rel='stylesheet' type='text/css'>

    <link href="/static/img/favicon.gif" rel="icon" type="image/gif" />

    
    
    
        
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/articles/feed/" />
        
    
    <script type="text/javascript" src="//vk.com/js/api/openapi.js?117"></script>
<script type="text/javascript">
    window.VK_APP_ID = 5074720;
    VK.init({apiId: window.VK_APP_ID, onlyWidgets: true});
</script>

    <script type="text/javascript" src="//vk.com/js/api/openapi.js?117"></script>
<script type="text/javascript">
    window.VK_APP_ID = 5074720;
    VK.init({apiId: window.VK_APP_ID, onlyWidgets: true});
</script>


    <title itemprop="name">
Про Python - Статьи - Анонс keybind 0.1.1 — глобальные горячие клавиши</title>

</head>
<body>
    

    <nav class="header navbar navbar-default navbar-fixed-top" itemscope itemtype="http://schema.org/SiteNavigationElement">
        <div class="container">

            <div class="navbar-header">

                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#nav_toggable" aria-expanded="false">
                    <span class="sr-only">Показать/скрыть меню</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

                <a class="navbar-brand" href="/" title="На главную страницу pythonz.net">
                    <img src="/static/img/favicon.gif" alt="pythonz">
                </a>
            </div>

            <div class="collapse navbar-collapse" id="nav_toggable">

                
<ul class="nav navbar-nav">

    
        
    
        
            <li class="active">
                <a href="/articles/">Статьи</a>
            </li>
        
    
        
            <li >
                <a href="/references/">Справочник</a>
            </li>
        
    
        
            <li >
                <a href="/videos/">Видео</a>
            </li>
        
    
        
            <li >
                <a href="/books/">Книги</a>
            </li>
        
    
        
            <li >
                <a href="/vacancies/">Работа</a>
            </li>
        
    
        
            <li >
                <a href="/events/">События</a>
            </li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Ещё&hellip; <span class="caret"></span></a>
        <ul class="dropdown-menu">
        
            
                <li >
                    <a href="/categories/">Путеводитель</a>
                </li>
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
                <li >
                    <a href="/places/">Места</a>
                </li>
            
        
            
                <li >
                    <a href="/discussions/">Обсуждения</a>
                </li>
            
        
            
                <li >
                    <a href="/communities/">Сообщества</a>
                </li>
            
        
            
                <li >
                    <a href="/versions/">Версии Python</a>
                </li>
            
        
            
                <li >
                    <a href="/peps/">PEP</a>
                </li>
            
        
            
                <li >
                    <a href="/persons/">Персоны</a>
                </li>
            
        
            
                <li >
                    <a href="/users/">Пользователи</a>
                </li>
            
        
        </ul>
    </li>

</ul>

                

                    <div class="submenu navbar-nav navbar-left marg__l_mid bg-success">
                    
                        
<ul class="nav navbar-nav">
    
</ul>
                    
                    </div>
                

                <div itemscope itemtype="http://schema.org/WebSite">
                    <meta itemprop="url" content="http://pythonz.net"/>

                    <form class="navbar-form navbar-left" action="/search/" method="post" itemprop="potentialAction" itemscope itemtype="http://schema.org/SearchAction">
                        <input type='hidden' name='csrfmiddlewaretoken' value='iZeRGQ3v3tv2UK93iYy4Jn1t8ZT0EnwnHQzVk35i8ghF9LA5FWPu8k7FcdFiBhWU' />
                        <div class="form-group" role="search">
                            <meta itemprop="target" content="http://pythonz.net/search/?text={search_term}"/>
                            <input type="text" class="form-control" autofocus name="text" placeholder="Поиск по справочнику" value="" required itemprop="query-input">
                        </div>
                    </form>

                </div>

                <ul class="nav navbar-nav navbar-right">
                
                    <li><a href="/login/" class=""><i class="fa fa-fw fa-sign-in"></i>&nbsp;Вход</a></li>
                
                </ul>

            </div>

        </div>
    </nav>


    <div class="container body">
        

        
        
<div itemscope itemtype="http://schema.org/Article">
    <div class="row">
        <div class="col-md-12">
            



    

<ul class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
    
        
            <li property="itemListElement" typeof="ListItem">
                <a property="item" typeof="WebPage" href="/">Про Python</a>
                <meta property="position" content="1">
            </li>
        
    
        
            <li property="itemListElement" typeof="ListItem">
                <a property="item" typeof="WebPage" href="/articles/">Статьи</a>
                <meta property="position" content="2">
            </li>
        
    
        
            <li class="active" property="itemListElement" typeof="ListItem">
                Анонс keybind 0.1.1 — глобальные горячие клавиши
                <meta property="position" content="3">
            </li>
        
    
</ul>








<div class="page-header">
    <h1 itemprop="name" data-geopattern="Анонс keybind 0.1.1 — глобальные горячие клавиши"><i class="fa fa-file-o"></i> Анонс keybind 0.1.1 — глобальные горячие клавиши</h1>
    <i></i>
</div>

        </div>
    </div>
    <div class="row">
        <meta itemprop="headline" content="Анонс keybind 0.1.1 — глобальные горячие клавиши" />
        <meta itemprop="datePublished" content="2018-11-16T10:07:26.729806+07:00" />
        <meta itemprop="image" content="/static/img/realm_logos/pythonz_articles.png" />

        <div class="col-md-12">
            <div id="article-content">
                <div class="pull-right marg__l_mid marg__b_mid float_panel">
                    
                    <div class="well marg__b_mid text-center">
                        
                        <a href="/users/1/"><img src="http://www.gravatar.com/avatar/da547139569ae1a1aa2303587cfbdb42/?d=identicon&size=64" class="gravatar"></a><br>
                        <small><a href="/users/1/">Игорь Стариков</a></small>
                        
                    </div>
                    
                    

<div class="tags_box marg__b_mid">
    <hr>
    <h4>Категории</h4>
    
    

    
    <div id="catbox_1" data-catalias="lang" data-catid="1" class="categories_box">
        
        <div class="title" title="">Язык</div>
        
        
<ul id="catlist_1" class="list">


    <li>
    
        <a href="/articles/tags/9/" data-tiesnum="1" data-catid="9" class="list_entry label label-default" title="Здесь перечислены материалы на русском языке.">русский</a>
    
    
    </li>


</ul>
        
    </div>
    


    

    
    <div id="catbox_3" data-catalias="env" data-catid="3" class="categories_box">
        
        <div class="title" title="">Окружение</div>
        
        
<ul id="catlist_3" class="list">


    <li>
    
        <a href="/articles/tags/15/" data-tiesnum="1" data-catid="15" class="list_entry label label-default" title="Настольное окружение — окружение, характерное для разработки под настольные устройства.">настольное</a>
    
    
    </li>


</ul>
        
    </div>
    


    

    
    <div id="catbox_4" data-catalias="area" data-catid="4" class="categories_box">
        
        <div class="title" title="">Область</div>
        
        
<ul id="catlist_4" class="list">


    <li>
    
        <a href="/articles/tags/52/" data-tiesnum="1" data-catid="52" class="list_entry label label-default" title="Графический интерфейс пользователя, он же GUI">ГИП (GUI)</a>
    
    
    </li>


</ul>
        
    </div>
    


    

    
    <div id="catbox_8" data-catalias="os" data-catid="8" class="categories_box">
        
        <div class="title" title="">Платформа</div>
        
        
<ul id="catlist_8" class="list">


    <li>
    
        <a href="/articles/tags/83/" data-tiesnum="1" data-catid="83" class="list_entry label label-default" title="">Unix</a>
    
    
    </li>

    <li>
    
        <a href="/articles/tags/28/" data-tiesnum="1" data-catid="28" class="list_entry label label-default" title="">Linux</a>
    
    
    </li>


</ul>
        
    </div>
    


    

    
    <div id="catbox_6" data-catalias="project" data-catid="6" class="categories_box">
        
        <div class="title" title="">Проект</div>
        
        
<ul id="catlist_6" class="list">


    <li>
    
        <a href="/articles/tags/109/" data-tiesnum="1" data-catid="109" class="list_entry label label-default" title="">Qt</a>
    
    
    </li>

    <li>
    
        <a href="/articles/tags/175/" data-tiesnum="1" data-catid="175" class="list_entry label label-default" title="">GTK</a>
    
    
    </li>


</ul>
        
    </div>
    


    

    
    <div id="catbox_44" data-catalias="level" data-catid="44" class="categories_box">
        
        <div class="title" title="Примерный уровень подготовки">Уровень</div>
        
        
<ul id="catlist_44" class="list">


    <li>
    
        <a href="/articles/tags/45/" data-tiesnum="1" data-catid="45" class="list_entry label label-default" title="">начальный-средний</a>
    
    
    </li>


</ul>
        
    </div>
    


    <hr>
</div>


                    
                    <div class="col-md-12 marg__b_mid">
                        


    <!-- Yandex.RTB R-A-247489-2 -->

        <div id="yandex_rtb_R-A-247489-2"></div>
        <script type="text/javascript">
            yaAd({
                blockId: "R-A-247489-2",
                renderTo: "yandex_rtb_R-A-247489-2",
                async: true
            })
        </script>

    


                    </div>
                    <div class="clearfix"></div>
                    
                </div>
                <div class="marg__b_mid text-muted">
                    <small>
                        16 ноября 2018 г. 10:05
                        (<abbr title="Дата последнего редактирования">ред.</abbr> 16 ноября 2018 г. 10:09)
                    </small>
                </div>

                

                <div class="lead" itemprop="description">О новом пакете, позволяющем настраивать глобальные клавиши на UNIX-подобных системах под X Window System.</div>
                <div class="py_user">Для очередного проекта с GUI на GTK 3 мне понадобилась возможность активировать функции приложения даже когда его окно не находится в фокусе.<br><br>Моя Ubuntu работает на X11 (X Window System), в которой имеется возможность перехвата нажатия определённых клавиш на глобальном уровне. То есть, можно запустить перехватчик в отдельной нити процесса приложения, а он будет слушать события X и при наступлении нужных запускать определённые функции.<br><br>Казалось бы, учитывая распространённость X11, наверняка существуют готовые пакеты под Python, не слишком большие и при этом гибкие. Однако поиски успехом не увенчались. Пакеты и код похожий на то, что мне нужно действительно встречался во многих местах, но он был привязан к чему-то большему. То к QT, то к GTK, то к выполнению каких-то других задач, в которых тоже требуется перехват.<br><br>Короче говоря, так и появился <a href="https://pypi.org/project/keybind/">keybind</a>.<br><br>Этот пакет можно использовать как из ваших приложений на Python, так и в качестве самостоятельного приложения с CLI.<br>Рассмотрим примеры использования.<br><br><b>Вызов из Python</b><br><br>В самом простом виде перехват запускается при помощи <code>KeyBinder.activate()</code>, но можно и вручную создать экземпляр <code>KeyBinder</code> и оперировать им.<br><br><pre><code class="python">    from keybinder import KeyBinder<br><br><br>    def do():<br>        print('done')<br><br>    <br>    KeyBinder.activate({<br><br>        'Ctrl-K': do,  # Это сочетания запустит функцию do.<br>        'Shift-R': None,  # А это мы просто перехватим.<br><br>    # Если требуется запустить перехватчик в отдельной нити,<br>    # то прямо скажем об этом.<br>    }, run_thread=True)</code></pre><br><b>Использование CLI</b><br><br>После уставночки пакета по команде <code>keybind</code> вам станет доступен интерфейс командной строки.<br><br>С его помощью можно назначить на нажатие клавиш запуск каких-либо приложений.<br><br><pre><code class="bash">    $ keybind -k "Ctrl-K=gnome-calculator &amp;" -k "Ctrl-D=python run.py somearg --someopt"</code></pre><br>В примере выше мы на нажатие <code>Ctrl-K</code> повесили вызов приложения калькулятор, а на  <code>Ctrl-D</code> — вызов Python для исполнения какого-то нашего скрипта <code>run.py</code> с неким набором аргументов. Теперь, пока <code>keybind</code> активен, мы можете использовать указанные сочетания клавиш для вызова нужных приложений.<br><br>Для гурманов <code>keybind</code> предоставляет возможность сканирования кодов клавиш. После запуска этого режима все нажатия клавиш будут перехвачены, а их коды выведены в консоль. <i>Приготовьте мышь, она может понадобиться.</i><br><br><pre><code class="bash">    $ keybind --sniff</code></pre><br>Как обычно, <a href="https://github.com/idlesign/keybind">проект разрабатывается открыто</a>, желающие поучаствовать могут присоединиться.<br><br><i>Навешу на Ctrl-T кипечение воды для чая.</i></div>

                

                

                <div id="share_box" class="marg__t_max marg__b_mid">
    
        <div id="rate_box" class="text-center marg__b_min block">
    
            <a href="/login/" class="btn btn-default" title="Одобряю!">
                &nbsp; <span class="label label-success">0</span> &nbsp;<i class="fa fa-thumbs-o-up"></i>
            </a>
    
</div>
    

    
<div id="bookmark_box" class="block marg__l_min">
    
        <a href="/login/" class="btn btn-default" title="Нажмите, чтобы поместить в избранные Статьи.">
            <i class="fa fa-bookmark-o"></i></a>
    
</div>

    <script src="//yastatic.net/share2/share.js"></script>
    <div class="ya-share2 marg__l_mid" data-services="vkontakte,facebook,odnoklassniki,moimir,gplus,twitter,telegram,blogger,delicious,digg,reddit,linkedin,lj,viber,whatsapp,skype" data-limit="7" data-counter=""></div>
</div>

                
    


            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <script type="text/javascript">
    

    $(function(){
        pythonz.activateCommentsTab(3000);
    });
</script>

<ul class="nav nav-tabs" role="tablist" id="comments_tabs">

    
    <li role="presentation" class="active">
        <a href="#comments_vk" aria-controls="comments_vk" role="tab" data-toggle="tab">
            Комментарии ВК
            <span id="comments_vk_cnt" class="vk-comment-count badge marg__l_min">0</span></a>
    </li>
    

    
    <li role="presentation">
        <a href="#comments_disqus" aria-controls="comments_disqus" role="tab" data-toggle="tab">
            Комменатрии Disqus
            <span id="comments_disqus_cnt" class="disqus-comment-count badge marg__l_min" data-disqus-identifier="article_196">0</span></a>
    </li>
    

    

</ul>

<div class="tab-content">

    
    <div role="tabpanel" class="tab-pane active" id="comments_vk">
        <div id="vk_comments" class="marg__t_max"></div>
<script type="text/javascript">
    VK.Widgets.Comments('vk_comments', {limit: 20, attach: 'link'}, 'article_196');
</script>

<script type="application/javascript">
    $(function() {
        VK.Api.call(
            'widgets.getComments',
            {
                widget_api_id: window.VK_APP_ID,
                page_id: 'article_196',
                v: '5.59'
            },
            function(result) {
                if (result.response) {
                    $('#comments_vk_cnt').html(result.response.count)
                }
            }
        );
    })
</script>
    </div>
    

    
    <div role="tabpanel" class="tab-pane" id="comments_disqus">
        
            


<div id="disqus_thread" class="marg__t_max"></div>

<script type="text/javascript">
    var disqus_config = function () {
        this.page.identifier = 'article_196';
        this.page.title = 'Анонс keybind 0.1.1 — глобальные горячие клавиши';
        

    };
    (function() {
        var d = document, s = d.createElement('script');
        s.src = '//pythonz-idle.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Включите JavaScript, чтобы увидеть комментарии.</noscript>




<script id="dsq-count-scr" src="//pythonz-idle.disqus.com/count.js" async></script>
        
    </div>
    

    

</div>
        </div>
    </div>
</div>

        
    </div>

    
    <nav class="footer navbar navbar-default navbar-inverse marg__t_max" itemscope itemtype="http://schema.org/SiteNavigationElement">
        <div class="container">
            <div class="row">
                <div class="col-md-3 hidden-xs">
                    
<ul class="menu">
	
	<li>
        <a href="/promo/"  >Что такое Python</a>
	</li>
	
	<li>
        <a href="/about/"  >О проекте</a>
	</li>
	
	<li>
        <a href="/sitemap/"  >Карта сайта</a>
	</li>
	
	<li>
        <a href="/search/site/"  >Поиск по сайту</a>
	</li>
	
</ul>
                </div>
                <div class="col-md-6 col-xs-9">
                    
<ul class="menu">
	
	<li>
        <a href="/categories/"  >Путеводитель</a>
	</li>
	
	<li>
        <a href="/articles/"  >Статьи</a>
	</li>
	
	<li>
        <a href="/references/"  class="current_branch">Справочник</a>
	</li>
	
	<li>
        <a href="/videos/"  >Видео</a>
	</li>
	
	<li>
        <a href="/books/"  >Книги</a>
	</li>
	
	<li>
        <a href="/vacancies/"  >Работа</a>
	</li>
	
	<li>
        <a href="/events/"  >События</a>
	</li>
	
	<li>
        <a href="/places/"  >Места</a>
	</li>
	
	<li>
        <a href="/discussions/"  >Обсуждения</a>
	</li>
	
	<li>
        <a href="/communities/"  >Сообщества</a>
	</li>
	
	<li>
        <a href="/versions/"  >Версии Python</a>
	</li>
	
	<li>
        <a href="/peps/"  >PEP</a>
	</li>
	
	<li>
        <a href="/persons/"  >Персоны</a>
	</li>
	
	<li>
        <a href="/users/"  >Пользователи</a>
	</li>
	
</ul>
                </div>
                <div class="col-md-3 col-xs-3 text-right">
                    <address>
                        <a href="mailto:press@pythonz.net" title="Почта для контактов"><i class="fa fa-fw fa-2x fa-envelope-o"></i></a>
                        <a href="https://github.com/idlesign/pythonz/" title="На GitHub"><i class="fa fa-fw fa-2x fa-github"></i></a>
                        <a href="https://twitter.com/pythonz_net" title="В Твиттере"><i class="fa fa-fw fa-2x fa-twitter"></i></a>
                        <a href="http://vk.com/pythonz" title="Во ВКонтакте"><i class="fa fa-fw fa-2x fa-vk"></i></a>
                        <a href="https://www.facebook.com/pythonznet/" title="В Facebook"><i class="fa fa-fw fa-2x fa-facebook"></i></a>
                        <a href="https://telegram.me/pythonz" title="В Telegram"><i class="fa fa-fw fa-2x fa-paper-plane"></i></a>
                    </address>

                </div>
            </div>
        </div>
    </nav>
    

    <script src="/static/js/xross/xross.min.js" type="text/javascript"></script>
    <script src="/static/js/sitecats/sitecats.min.js" type="text/javascript"></script>
    <script src="/static/js/pythonz.min.js" type="text/javascript"></script>

    <script src="//yandex.st/bootstrap/3.3.4/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        hljs.configure({useBR: true});
        hljs.initHighlightingOnLoad();
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/geopattern/1.2.3/js/geopattern.min.js"></script>

    

    
	<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {w.yaCounter21211468 = new Ya.Metrika({
            id:21211468, webvisor:true, clickmap:true, trackLinks:true, accurateTrackBounce:true
        });} catch(e) { }
    });
    var n = d.getElementsByTagName('script')[0], s = d.createElement('script'), f = function () { n.parentNode.insertBefore(s, n); };
    s.type = 'text/javascript'; s.async = true; s.src = (d.location.protocol=='https:' ? 'https:': 'http:') + '//mc.yandex.ru/metrika/watch.js';
    if (w.opera=='[object Opera]') {d.addEventListener('DOMContentLoaded', f, false);} else { f(); }
})(document, window, 'yandex_metrika_callbacks');
</script>
<noscript><div><img src="//mc.yandex.ru/watch/21211468" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

</body>
</html>